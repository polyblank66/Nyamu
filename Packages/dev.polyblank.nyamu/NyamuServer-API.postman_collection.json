{
  "info": {
    "_postman_id": "12345678-1234-1234-1234-123456789012",
    "name": "Nyamu Server API",
    "description": "HTTP API for Nyamu MCP Server - Unity Editor Integration",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345678"
  },
  "item": [
    {
      "name": "Compilation",
      "item": [
        {
          "name": "Compilation Trigger",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:{{nyamu-port}}/compilation-trigger",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "{{nyamu-port}}",
              "path": [
                "compilation-trigger"
              ]
            },
            "description": "Triggers Unity script compilation and waits for it to start."
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:{{nyamu-port}}/compilation-trigger",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "{{nyamu-port}}",
                  "path": [
                    "compilation-trigger"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"ok\",\n    \"message\": \"Compilation started.\"\n}"
            }
          ]
        },
        {
          "name": "Compilation Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:{{nyamu-port}}/compilation-status",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "{{nyamu-port}}",
              "path": [
                "compilation-status"
              ]
            },
            "description": "Gets current compilation status and errors from the last compilation."
          },
          "response": [
            {
              "name": "Idle - No Errors",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:{{nyamu-port}}/compilation-status",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "{{nyamu-port}}",
                  "path": [
                    "compilation-status"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"idle\",\n    \"isCompiling\": false,\n    \"lastCompilationTime\": \"2025-12-08 12:30:45\",\n    \"lastCompilationRequestTime\": \"2025-12-08 12:30:40\",\n    \"errors\": []\n}"
            }
          ]
        }
      ],
      "description": "Endpoints for managing Unity script compilation."
    },
    {
      "name": "Testing",
      "item": [
        {
          "name": "Run Single Test",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:{{nyamu-port}}/tests-run-single?test_name=MyNamespace.MyTests.MySpecificTest&mode=EditMode",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "{{nyamu-port}}",
              "path": [
                "tests-run-single"
              ],
              "query": [
                {
                  "key": "test_name",
                  "value": "MyNamespace.MyTests.MySpecificTest",
                  "description": "Full name of the test to run (e.g., \"MyNamespace.MyTests.MySpecificTest\")"
                },
                {
                  "key": "mode",
                  "value": "EditMode",
                  "description": "Test mode: \"EditMode\" or \"PlayMode\" (default: EditMode)"
                },
                {
                  "key": "timeout",
                  "value": "60",
                  "description": "Timeout in seconds (default: 60)"
                }
              ]
            },
            "description": "Runs a single specific Unity test by its full name.\n\n**Query Parameters:**\n- `test_name` (required): Full name of the test to run\n- `mode` (optional): \"EditMode\" or \"PlayMode\" (default: \"EditMode\")\n- `timeout` (optional): Timeout in seconds (default: 60)\n\n**Response:**\n- Success: `{\"status\":\"ok\", \"message\":\"Test execution started.\"}`\n- Already running: `{\"status\":\"warning\", \"message\":\"Tests are already running...\"}`"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:{{nyamu-port}}/tests-run-single?test_name=MyNamespace.MyTests.MySpecificTest&mode=EditMode",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "{{nyamu-port}}",
                  "path": [
                    "tests-run-single"
                  ],
                  "query": [
                    {
                      "key": "test_name",
                      "value": "MyNamespace.MyTests.MySpecificTest"
                    },
                    {
                      "key": "mode",
                      "value": "EditMode"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"ok\",\n    \"message\": \"Test execution started.\"\n}"
            }
          ]
        },
        {
          "name": "Run All Tests",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:{{nyamu-port}}/tests-run-all?mode=EditMode",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "{{nyamu-port}}",
              "path": [
                "tests-run-all"
              ],
              "query": [
                {
                  "key": "mode",
                  "value": "EditMode",
                  "description": "Test mode: \"EditMode\" or \"PlayMode\" (default: EditMode)"
                },
                {
                  "key": "timeout",
                  "value": "60",
                  "description": "Timeout in seconds (default: 60)"
                }
              ]
            },
            "description": "Runs all Unity tests in the specified mode.\n\n**Query Parameters:**\n- `mode` (optional): \"EditMode\" or \"PlayMode\" (default: \"EditMode\")\n- `timeout` (optional): Timeout in seconds (default: 60)\n\n**Response:**\n- Success: `{\"status\":\"ok\", \"message\":\"Test execution started.\"}`\n- Already running: `{\"status\":\"warning\", \"message\":\"Tests are already running...\"}`"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:{{nyamu-port}}/tests-run-all?mode=EditMode",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "{{nyamu-port}}",
                  "path": [
                    "tests-run-all"
                  ],
                  "query": [
                    {
                      "key": "mode",
                      "value": "EditMode"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"ok\",\n    \"message\": \"Test execution started.\"\n}"
            }
          ]
        },
        {
          "name": "Run Tests with Regex",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:{{nyamu-port}}/tests-run-regex?filter_regex=.*PlayerController.*&mode=EditMode",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "{{nyamu-port}}",
              "path": [
                "tests-run-regex"
              ],
              "query": [
                {
                  "key": "filter_regex",
                  "value": ".*PlayerController.*",
                  "description": "Regex pattern for filtering tests (e.g., \"Nyamu\\\\.Tests\\\\..*\")"
                },
                {
                  "key": "mode",
                  "value": "EditMode",
                  "description": "Test mode: \"EditMode\" or \"PlayMode\" (default: EditMode)"
                },
                {
                  "key": "timeout",
                  "value": "60",
                  "description": "Timeout in seconds (default: 60)"
                }
              ]
            },
            "description": "Runs Unity tests matching a regex pattern.\n\n**Query Parameters:**\n- `filter_regex` (required): .NET Regex pattern for filtering tests\n- `mode` (optional): \"EditMode\" or \"PlayMode\" (default: \"EditMode\")\n- `timeout` (optional): Timeout in seconds (default: 60)\n\n**Response:**\n- Success: `{\"status\":\"ok\", \"message\":\"Test execution started.\"}`\n- Already running: `{\"status\":\"warning\", \"message\":\"Tests are already running...\"}`"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:{{nyamu-port}}/tests-run-regex?filter_regex=.*PlayerController.*&mode=EditMode",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "{{nyamu-port}}",
                  "path": [
                    "tests-run-regex"
                  ],
                  "query": [
                    {
                      "key": "filter_regex",
                      "value": ".*PlayerController.*"
                    },
                    {
                      "key": "mode",
                      "value": "EditMode"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"ok\",\n    \"message\": \"Test execution started.\"\n}"
            }
          ]
        },
        {
          "name": "Test Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:{{nyamu-port}}/tests-status",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "{{nyamu-port}}",
              "path": [
                "tests-status"
              ]
            },
            "description": "Gets the current test execution status and results from the last test run.\n\n**Response Fields:**\n- `status`: \"running\" or \"idle\"\n- `isRunning`: boolean - whether tests are currently executing\n- `lastTestTime`: ISO timestamp of last test completion\n- `testResults`: object with test statistics and individual results\n  - `totalTests`, `passedTests`, `failedTests`, `skippedTests`\n  - `duration`: total execution time in seconds\n  - `results`: array of individual test results\n- `testRunId`: unique GUID for the test run\n- `hasError`: boolean - whether test execution had errors\n- `errorMessage`: error description if hasError is true"
          },
          "response": [
            {
              "name": "Idle - Tests Completed",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:{{nyamu-port}}/tests-status",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "{{nyamu-port}}",
                  "path": [
                    "tests-status"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"idle\",\n    \"isRunning\": false,\n    \"lastTestTime\": \"2025-12-08 12:35:20\",\n    \"testResults\": {\n        \"totalTests\": 5,\n        \"passedTests\": 4,\n        \"failedTests\": 1,\n        \"skippedTests\": 0,\n        \"duration\": 2.345,\n        \"results\": [\n            {\n                \"name\": \"NyamuTests.PassingTest1\",\n                \"outcome\": \"Passed\",\n                \"message\": \"\",\n                \"duration\": 0.123\n            },\n            {\n                \"name\": \"NyamuTests.FailingTest\",\n                \"outcome\": \"Failed\",\n                \"message\": \"Expected: 5 But was: 3\",\n                \"duration\": 0.089\n            }\n        ]\n    },\n    \"testRunId\": \"abc123def456\",\n    \"hasError\": false,\n    \"errorMessage\": null\n}"
            }
          ]
        },
        {
          "name": "Cancel Tests",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:{{nyamu-port}}/tests-cancel?guid=",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "{{nyamu-port}}",
              "path": [
                "tests-cancel"
              ],
              "query": [
                {
                  "key": "guid",
                  "value": "",
                  "description": "Test run GUID to cancel (optional - uses current test run if not provided)"
                }
              ]
            },
            "description": "Cancels a running Unity test execution using Unity's TestRunnerApi.\n\n**Query Parameters:**\n- `guid` (optional): Test run GUID to cancel. If not provided, cancels the current running test.\n\n**Note:** Currently only EditMode tests can be cancelled due to Unity API limitations.\n\n**Response Examples:**\n- Success: `{\"status\":\"ok\", \"message\":\"Test run cancellation requested...\", \"guid\":\"...\"}`\n- No tests running: `{\"status\":\"warning\", \"message\":\"No test run currently active.\"}`\n- Failed: `{\"status\":\"error\", \"message\":\"Failed to cancel test run...\"}`"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:{{nyamu-port}}/tests-cancel",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "{{nyamu-port}}",
                  "path": [
                    "tests-cancel"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"ok\",\n    \"message\": \"Test run cancellation requested for ID: abc123def456\",\n    \"guid\": \"abc123def456\"\n}"
            }
          ]
        }
      ],
      "description": "Endpoints for running and managing Unity tests."
    },
    {
      "name": "Asset Management",
      "item": [
        {
          "name": "Refresh Assets",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:{{nyamu-port}}/refresh-assets?force=false",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "{{nyamu-port}}",
              "path": [
                "refresh-assets"
              ],
              "query": [
                {
                  "key": "force",
                  "value": "false",
                  "description": "Use ImportAssetOptions.ForceUpdate for stronger refresh (recommended for file deletions)"
                }
              ]
            },
            "description": "Triggers Unity AssetDatabase refresh. Critical for file system changes.\n\n**Query Parameters:**\n- `force` (optional): Set to `true` for stronger refresh\n  - `false` (default): Normal refresh\n  - `true`: Uses `ImportAssetOptions.ForceUpdate`\n  - **Required after file deletions** to prevent CS2001 errors\n\n**Response:**\n- Success: `{\"status\":\"ok\", \"message\":\"Asset database refreshed.\"}`"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:{{nyamu-port}}/refresh-assets?force=false",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "{{nyamu-port}}",
                  "path": [
                    "refresh-assets"
                  ],
                  "query": [
                    {
                      "key": "force",
                      "value": "false"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"ok\",\n    \"message\": \"Asset database refreshed.\"\n}"
            }
          ]
        }
      ],
      "description": "Endpoints for managing Unity asset database."
    },
    {
      "name": "Editor Status",
      "item": [
        {
          "name": "Editor Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:{{nyamu-port}}/editor-status",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "{{nyamu-port}}",
              "path": [
                "editor-status"
              ]
            },
            "description": "Gets comprehensive Unity Editor state."
          },
          "response": [
            {
              "name": "Idle",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:{{nyamu-port}}/editor-status",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "{{nyamu-port}}",
                  "path": [
                    "editor-status"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"isCompiling\": false,\n    \"isRunningTests\": false,\n    \"isPlaying\": false\n}"
            }
          ]
        }
      ],
      "description": "Endpoints for monitoring Unity Editor state."
    }
  ],
  "variable": [
    {
      "key": "nyamu-port",
      "value": "17932",
      "type": "string"
    }
  ]
}